{% extends 'browse/base.html' %}
{% load staticfiles %}
{% block title %}New School{% endblock %}
{% block js %}
  <script src="{% static 'new/js/new.js' %}"></script>
{% endblock %}

{% block content %}
  <!-- Type here passes off to our controller in its scope !-->
  <div ng-app"lumxWrap">
    <div ng-controller="form-handler" model="school">

      <form method="post" ng-submit="submit()">
        {% csrf_token %}

        {% verbatim %}
        <div flex-container="row" ng-model="valid.error" 
             class="p+ error bgc-red-500 tc-white-1"
             ng-show="valid.error != ''">
          <center>
            {{ valid.error }}
          </center>
        </div>
        <div flex-container="row" flex-gutter="24">
          <div flex-item>
              <lx-text-field label="Name">
                  <input type="text" ng-model="data.name" error="valid.name != ''">
              </lx-text-field>
              <span class="text-field-error" ng-show="valid.name != ''" min-length="5">{{ valid.name }}</span>
          </div>

          <div flex-item>
              <lx-text-field label="URL">
                  <input type="url" ng-model="data.url" error="valid.url != ''">
              </lx-text-field>
              <span class="text-field-error" ng-show="valid.url != ''">{{ valid.url }}</span>
          </div>

          <div flex-item>
              <lx-text-field label="Email Pattern">
                  <input type="text" ng-model="data.email_pattern" error="valid.email_pattern != ''"
                         ng-model-updates="{ debounce: 1000 }">
              </lx-text-field>
              <span class="text-field-error" ng-show="valid.email_pattern != ''">{{ valid.email_pattern }}</span>
          </div>
        </div>
          {% endverbatim %}
          {{ form.media }}
          {{ form.as_p }}

        <button class="btn btn--l btn--blue btn--raised"type="submit" 
                ng-submit="submit()" lx-ripple />Add School</button>



          <div class="toolbar__right">
              <lx-search-filter model="searchFilter.third" position="right" 
                                filter-width="400px" theme="dark" closed></lx-search-filter>
          </div>



        </form>
      </div>
    </div>
{% endblock %}
